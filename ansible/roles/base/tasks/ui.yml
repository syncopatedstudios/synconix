---

- name: starting ui role
  debug:
    msg: "starting ui role"

- include: ui/x11.yml
  tags: ['x11']

- include: ui/i3.yml
  tags: ['i3']

- include: ui/theme.yml
  tags: ['theme']

# - include: ui/fonts.yml
#   tags: ['fonts']

# - include: ui/autologin.yml
#   tags: ['autologin']

- include: desktop/termpdf.yml
  when: inventory_hostname in groups['daw']
  tags: ['utils']

- include: desktop/atom.yml
  when:
    - inventory_hostname in groups['daw']
    - install_atom|bool
  tags: ['atom']

- include: desktop/nvim.yml
  when: inventory_hostname in groups['daw']
  tags: ['atom']

- name: set thunar as default for opening directories
  shell: |
    xdg-mime default thunar.desktop inode/directory
  become: True
  become_user: "{{ user.name }}"
  tags: ['thunar']

- name: set graphical-target as default
  shell: |
    systemctl set-default graphical.target
  register: graphicaltarget
  changed_when: graphicaltarget.rc != 0
  when: graphical_target|bool
