---

- include: x11.yml
  tags: ["x11"]
  when: install_x11|bool

- include: i3.yml
  tags: ["i3"]
  when: install_i3|bool

- include: autologin.yml
  tags: ['autologin']
  when: autologin|bool

- include: theme.yml
  tags: ['theme']

- name: set packages to install
  set_fact:
    _ui_gutilities: "{{ ui['gutilities']|difference(installed_packages) }}"
  tags: ['packages']

- name: Install GUI utils like mpv, feh, qpdfview, etc
  shell: "{{ ansible_pkg_mgr }} -y install {{ _ui_gutilities | join(' ') }}"
  tags: ['packages']
