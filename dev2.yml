---

- hosts: all
  gather_facts: yes
  vars:
    env_vars:
      ZSH: "{{ user.zsh }}"
      PATH: "{{ ansible_env.PATH }}:{{ path|join(':') }}"

  tasks:
    - name: gather facts
      setup:
        gather_subset:
          - user

    # - name: print user
    #   debug:
    #     msg: "{{ ansible_facts }}"

    - name: System details
      debug:
        msg: "{{ item }}"
      with_items:
        - "{{ ansible_distribution_file_variety }}"
        - "{{ ansible_distribution_release }}"
        - "{{ ansible_lsb }}"
