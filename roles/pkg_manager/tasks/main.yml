---

- name: "Install Archlinux packages"
  include_tasks: pkg_archlinux.yml
  when: "ansible_os_family == 'Archlinux'"

- name: "Install Debian packages"
  include_tasks: pkg_apt.yml
  when: "ansible_os_family == 'Debian'"

- name: "Install Redhat packages"
  include_tasks: pkg_dnf.yml
  when: "ansible_os_family == 'RedHat'"

- name: "Download and unpack archives"
  include_tasks: pkg_archive.yml
  when: pkg['source'] is defined

- name: "Install gems"
  include_tasks: pkg_gem.yml
  when: pkg['gem'] is defined

- name: "Install pip packages"
  include_tasks: pkg_pip.yml
  when: pkg['pip'] is defined
