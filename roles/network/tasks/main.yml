---

- name: starting network role
  debug:
    msg: "starting network role"

- name: Include OS-specific variables.
  include_vars: "{{ ansible_os_family }}.yml"
  tags: ['network']

- import_tasks: cleanup.yml
  when: systemd_networkd_cleanup|bool and wireless == False

- include: networkmanager.yml
  when: use_networkmanager|bool
  tags: ['network']

- include: systemd-networkd.yml
  when: use_systemdnetwork|bool
  tags: ['network']

- include: udev-rules.yml
  when: wireless|bool
  tags: ['network', 'wireless']

- include: wpa_supplicant.yml
  when: (systemd_networkd_network or systemd_networkd_link or systemd_networkd_netdev) and (wireless|bool)
  tags: ['network', 'wireless']
