---

- name: gather facts
  setup:
    gather_subset:
      - os_family
      - pkg_mgr

- name: Include OS-specific variables.
  include_vars: "{{ ansible_os_family }}.yml"

- name: makesfz and makeh2drumkit
  copy:
    src: "usr/local/bin/{{ item }}"
    dest: "/usr/local/bin/{{ item }}"
    owner: root
    group: root
    mode: '0755'
  with_items:
    - makeh2kit
    - makesfz
  tags: ['soundfonts']

- include: ardour.yml
  tags: ['ardour']
  when: install_ardour|bool

- include: baudline.yml
  when: install_baudline|bool
  tags: ['baudline']

- include: deadbeef.yml
  when: install_deadbeef|bool
  tags: ['deadbeef']

- include: ecasound.yml
  when: install_ecasound|bool
  tags: ['ecasound']

- include: jacktrip.yml
  when: install_jacktrip|bool
  tags: ['jacktrip']

- include: jalvselect.yml
  when: install_jalvselect|bool
  tags: ['jalvselect']

- include: linuxsampler.yml
  when: install_linuxsampler|bool
  tags: ['linuxsampler']

- include: njconnect.yml
  when: install_njconnect|bool
  tags: ['njconnect']

- include: obs.yml
  when: install_obs|bool
  tags: ['obs']

- include: ocenaudio.yml
  when: ocenaudio|bool
  tags: ['ocenaudio']

- include: polyphone.yml
  when: install_polyphone|bool
  tags: ['polyphone']

- include: qmidinet.yml
  when: install_qmidinet|bool
  tags: ['qmidinet']

- include: raysession.yml
  when: install_raysession|bool
  tags: ['raysession']

- include: reaper.yml
  when: install_reaper|bool
  tags: ['reaper']

- include: rtplugins.yml
  when: install_rtplugins|bool
  tags: ['rtplugins']

- include: soniclineup.yml
  when: install_soniclineup|bool
  tags: ['soniclineup']

- include: sonicpi.yml
  when: install_sonicpi|bool
  tags: ['sonicpi']

- include: sonicpitool.yml
  when: install_sonicpi|bool
  tags: ['sonicpitool']

- include: sonicvisualiser.yml
  when: install_sonicvisualiser|bool
  tags: ['sonicvisualiser']

- include: swami.yml
  when: install_swami|bool
  tags: ['swami']

- include: tony.yml
  when: install_tony|bool
  tags: ['tony']

- include: touchosc.yml
  when: install_touchosc|bool
  tags: ['TouchOSC']
